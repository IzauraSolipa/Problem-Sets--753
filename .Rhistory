variables_country<-variables_industry  %>% group_by(year, country) %>% summarise_if(is.numeric,sum)
variables_country<-variables_industry  %>% group_by(year, country) %>% summarise_if(is.numeric,sum)
variables_country<-variables_country %>% mutate(sigma=profits/wages, h=c/wages, gamma=Y/(c+wages),
r=profits/(c+wages))
View(variables_country)
variables_year<-variables_country %>% group_by(year) %>% summarise_if(is.numeric,sum)
names(variables_industry)
variables_year<-variables_year %>% mutate(sigma=profits/wages,h=c/wages,gamma=Y/(c+wages),
r=profits/(c+wages))
View(variables_country)
View(variables_year)
View(variables_country)
View(variables_industry)
View(`T`)
View(VA)
View(FD)
rm(list=ls())
library(dplyr)
library(tidyr)
library(data.table)
library(ggplot2)
years<-c(1,2)
countryi<-c("A","B")
industryi<-c("C","D")
n<-length(years)
m<-length(countryi)
p<-length(industryi)
year<-rep(years,each=m*p)
country<-rep(rep(countryi, each=p),n)
industry<-rep(industryi, m*n)
AC<-c(3,2,1,0,4,3,2,1)
AD<-c(2,3,1,1,3,4,4,2)
BC<-c(1,2,4,3,2,3,5,4)
BD<-c(1,1,3,4,2,2,4,5)
T<-data.frame(year,country,industry, AC,AD,BC,BD)
wages<-c(2,1,1,1,3,2,2,2)
profits<-c(2,2,1,3,3,3,2,4)
VA<-data.frame(year, country, industry, wages, profits)
A.household<-c(2,1,1,3,3,4,2,5)
B.household<-c(1,1,2,2,2,2,1,2)
FD<-data.frame(year,country,industry, A.household,B.household)
variables_industry<-T %>% group_by(year)%>%summarise_if(is.numeric,sum) #Sum across all columns (by year)
View(variables_industry)
variables_industry<-variables_industry %>% pivot_longer(-year,"i", values_to="c")
View(variables_industry)
variables_industry<-variables_industry%>%mutate(country,industry)%>%select(year, country, industry, c)
View(variables_industry)
variables_industry<-variables_industry %>% mutate(wages, profits,Y=wages+profits)
View(variables_industry)
variables_industry<-variables_industry %>% mutate(sigma=profits/wages,h=c/wages,gamma=Y/(c+wages),
r=profits/(c+wages))
View(variables_industry)
variables_country<-variables_industry  %>% group_by(year, country) %>% summarise_if(is.numeric,sum)
View(variables_country)
variables_country<-variables_country %>% mutate(sigma=profits/wages, h=c/wages, gamma=Y/(c+wages),
r=profits/(c+wages))
View(VA)
View(variables_industry)
View(variables_country)
variables_year<-variables_country %>% group_by(year) %>% summarise_if(is.numeric,sum)
View(variables_year)
variables_year<-variables_year %>% mutate(sigma=profits/wages,h=c/wages,gamma=Y/(c+wages),
r=profits/(c+wages))
View(variables_year)
View(eci)
library(dplyr)
library(tidyr)
library(data.table)
library(ggplot2)
years<-c(1,2)
countryi<-c("A","B")
industryi<-c("C","D")
n<-length(years)
m<-length(countryi)
p<-length(industryi)
year<-rep(years,each=m*p)
country<-rep(rep(countryi, each=p),n)
industry<-rep(industryi, m*n)
AC<-c(3,2,1,0,4,3,2,1)
AD<-c(2,3,1,1,3,4,4,2)
BC<-c(1,2,4,3,2,3,5,4)
BD<-c(1,1,3,4,2,2,4,5)
T<-data.frame(year,country,industry, AC,AD,BC,BD)
wages<-c(2,1,1,1,3,2,2,2)
taxes<-runif(n = 8, min = 0, max = 6)
subsidies<-runif(n = 8, min = 0, max = 6)
profits<-c(2,2,1,3,3,3,2,4)
nmi<-runif(n = 8, min = 0, max = 6)
depreciation<-runif(n = 8, min = 0, max = 6)
VA<-data.frame(year, country, industry, wages, profits,taxes, subsidies, profits, nmi, depreciation)
View(VA)
rm(VA)
VA<-data.frame(year, country, industry, wages, profits,taxes, subsidies, nmi, depreciation)
View(VA)
rm(eci, psrtr, pstre)
rm(pstr)
A.household<-c(2,1,1,3,3,4,2,5)
B.household<-c(1,1,2,2,2,2,1,2)
A.non-profit<-runif(n = 8, min = 0, max = 6)
B.non-profit<-runif(n = 8, min = 0, max = 6)
A.government<-runif(n = 8, min = 0, max = 6)
B.government<-runif(n = 8, min = 0, max = 6)
A.capitalformation<-runif(n = 8, min = 0, max = 6)
B.capitalformation<-runif(n = 8, min = 0, max = 6)
A.inventories<-runif(n = 8, min = 0, max = 6)
B.inventories<-runif(n = 8, min = 0, max = 6)
A.acquisitions<-runif(n = 8, min = 0, max = 6)
B.acquisitions<-runif(n = 8, min = 0, max = 6)
FD<-data.frame(year,country,industry, A.household,B.household, A.government, B.government,
A.capitalformation, B.capitalformation, A.inventories,B.inventories,A.acquisitions,
B.acquisitions)
View(FD)
View(VA)
variables_industry<-T %>% group_by(year)%>%summarise_if(is.numeric,sum) #Sum across all columns (by year)
View(variables_industry)
variables_industry<-variables_industry %>% pivot_longer(-year,"i", values_to="c")
View(variables_industry)
variables_industry<-variables_industry%>%mutate(country,industry)%>%select(year, country, industry, c)
variables_industry<-variables_industry %>% pivot_longer(-year,"i", values_to="c-d")
variables_industry<-T %>% group_by(year)%>%summarise_if(is.numeric,sum) #Sum across all columns (by year)
variables_industry<-variables_industry %>% pivot_longer(-year,"i", values_to="c-d")
View(variables_industry)
variables_industry<-variables_industry%>%mutate(country,industry)%>%select(year, country, industry, c-d)
variables_industry<-variables_industry%>%mutate(country,industry)%>%select(year, country, industry, "c-d")
View(variables_industry)
variables_industry<-variables_industry %>% mutate(wages, profits,Y=wages+profits.c="c-d"+depreciation)
variables_industry<-variables_industry %>% mutate(wages, profits, depreciation, Y=wages+profits.c="c-d"+depreciation)
variables_industry<-variables_industry %>% mutate(wages, profits, depreciation, Y=wages+profits.c=c-d+depreciation)
variables_industry<-T %>% group_by(year)%>%summarise_if(is.numeric,sum) #Sum across all columns (by year)
variables_industry<-variables_industry %>% pivot_longer(-year,"i", values_to=constant)
View(variables_industry)
variables_industry<-variables_industry %>% pivot_longer(-year,"i", values_to="constant")
variables_industry<-variables_industry%>%mutate(country,industry)%>%select(year, country, industry, constant)
View(variables_industry)
variables_industry<-variables_industry %>% mutate(wages, profits, depreciation, Y=wages+profits.c=constant+depreciation)
variables_industry<-variables_industry %>% mutate(wages, profits, depreciation, Y=wages+profits, c=constant+depreciation)
View(variables_industry)
variables_industry<-variables_industry %>% mutate(sigma=profits/wages,h=c/wages,gamma=Y/(c+wages),
r=profits/(c+wages))
View(variables_industry)
variables_country<-variables_industry  %>% group_by(year, country) %>% summarise_if(is.numeric,sum)
variables_country<-variables_country %>% mutate(sigma=profits/wages, h=c/wages, gamma=Y/(c+wages),
r=profits/(c+wages))
variables_year<-variables_country %>% group_by(year) %>% summarise_if(is.numeric,sum)
variables_year<-variables_year %>% mutate(sigma=profits/wages,h=c/wages,gamma=Y/(c+wages),
r=profits/(c+wages))
View(variables_industry)
View(VA)
View(variables_year)
View(variables_country)
install.packages("Rcmdr")
library(Rcmdr)
library(dplyr)
library(tidyr)
library(data.table)
library(readxl)
isntall.packages("readxl")
install.packages("readxl")
library(readxl)
library(readxl)
library(xlsx)
detach("package:readxl", unload = TRUE)
install.packages("xlsx")
library(xlsx)
setwd("C:/Users/User/Documents/GitHub/git-econ753/lab-03-io-tables")
raw_IO_data<-import("WIOD_SEA_Nov16.xlsx",sheet="RAW I-O data") #It is in a wide form, we need to transform it
library(dplyr)
library(tidyr)
library(data.table)
library(ggplot2)
library("rio")
raw_IO_data<-import("WIOD_SEA_Nov16.xlsx",sheet="RAW I-O data") #It is in a wide form, we need to transform it
raw_IO_data<-import("WIOD_SEA_Nov16.xlsx",sheet=1) #It is in a wide form, we need to transform it
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
raw_IO_data<-import("India-Input-Output Analysis--Employment Estimates--09132019",sheet=1) #It is in a wide form, we need to transform it
raw_IO_data<-import("India-Input-Output Analysis--Employment Estimates--09132019.xlsx",sheet=1) #It is in a wide form, we need to transform it
View(raw_IO_data)
raw_IO_data<-import("IND_NIOT_row_sep12.xlsx",sheet="2009") #It is in a wide form, we need to transform it
View(raw_IO_data)
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
raw_IO_data<-import("IND_NIOT_row_sep12.xlsx",sheet="2009",startRow=4) #It is in a wide form, we need to transform it
?import
library("xlsx")
install.packages("xlsx")
library(xlsx)
library("xlsx")
raw_IO_data<-import("IND_NIOT_row_sep12.xlsx",sheet="2009",colnames=FALSE) #It is in a wide form, we need to transform it
raw_IO_data<-import("IND_NIOT_row_sep12.xlsx",sheet="2009") #It is in a wide form, we need to transform it
IO_2009<-import("IND_NIOT_row_sep12.xlsx",sheet="2009") #It is in a wide form, we need to transform it
View(IO_2009)
IO_
IO<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO<- IO %>% slice(-c(1,2))
View(IO)
View(IO)
names<-IO %>% slice(1)
View(names)
names<-IO %>% slice(1) %>% select(-c(1:4))
View(names)
names<-as.vector(names)
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
IO<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO<- IO %>% slice(-c(1,2))
names<-IO %>% slice(1) %>% select(-c(1:4))
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
IO<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO<- IO %>% slice(-c(1,2))
names<-IO %>% slice(1)
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
IO<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO<- IO %>% slice(-c(1,2)) %>% select(-1)
View(IO)
IO<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
rm(list=ls())
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
IO<- IO %>% slice(-c(1,2)) %>% select(-1)
IO<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
View(IO)
IO<- IO %>% slice(-c(1,2,4,5)) %>% select(-c(1,4))
View(IO)
names<-IO %>% slice(1)
IO<- IO%>% slice(-1)
View(IO)
varnames(IO)<-names
colnames(IO)<-names
IO<-IO %>% rename(""=industry)
IO<-IO %>% rename(""="industry")
IO<-IO %>% rename(NA="industry")
IO<-IO %>% rename("NA"="industry")
IO<-IO %>% rename("industry"=NA)
IO<-IO %>% rename("industry"="")
IO<-IO %>% rename("industry"="NA")
names
IO<-IO %>% rename(1="industry")
IO<-IO %>% rename("1"="industry")
IO<-IO %>% rename(industry=1)
View(IO)
IO<-IO %>% rename(industry=NA)
IO<-IO %>% rename(industry="NA")
IO<-IO %>% rename(industry="")
colnames(IO)<-c("industry,var, names")
View(IO)
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
IO<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO<- IO %>% slice(-c(1,2,4,5)) %>% select(-c(1,4))
names<-IO %>% slice(1)
IO<- IO%>% slice(-1)
colnames(IO)<-c("industry","var", names)
View(IO)
View(names)
IO<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO<- IO %>% slice(-c(1,2,4,5)) %>% select(-c(1,4))
names<-IO %>% slice(1) %>% select(-c(1,2))
IO<- IO%>% slice(-1)
colnames(IO)<- names
View(IO)
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
IO_1<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO_2<- IO %>% slice(-c(1,2,4,5)) %>% select(-c(1,4))
rm(list=ls())
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
IO_1<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO_2<- IO_1 %>% slice(-c(1,2,4,5)) %>% select(-c(1,4))
names<-IO_2 %>% slice(1) %>% select(-c(1,2))
IO_3<- IO_2%>% slice(-1)
colnames(IO_3)<-c("industry","var", names)
View(IO_3)
View(IO_3)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_all(sum())
IO_4<- IO_3 %>% group_by(industry) %>% summarise_if(is.numeric, sum())
IO_4<- IO_3 %>% group_by(industry) %>% summarise_if(is.numeric, sum)
View(IO_4)
View(IO_3)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_if(is.numeric, sum)
View(IO_4)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_if(is.numeric, sum())
IO_4<- IO_3 %>% group_by(var) %>% summarise_if(is.numeric, sum())
IO_4<- IO_3 %>% group_by(var) %>% summarise_if(is.numeric, sum)
View(IO_4)
IO_4<- IO_3 %>% group_by(`Agriculture, Hunting, Forestry and Fishing`) %>% summarise_if(is.numeric, sum)
View(IO_4)
IO_4<- IO_3 %>% group_by(inustry) %>% summarise_if(is.numeric, sum)
View(IO_3)
IO_4<- IO_3 %>% group_by("inustry") %>% summarise_if(is.numeric, sum)
View(IO_4)
IO_4<- IO_3 %>% group_by("industry") %>% summarise_if(is.numeric, sum)
View(IO_4)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_if(is.numeric, sum)
View(IO_4)
IO_5<- IO_3 %>% group_by(industry) %>% summarise_at(vars(`Agriculture, Hunting, Forestry and Fishing`),list=sum)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_at(vars(`Agriculture, Hunting, Forestry and Fishing`),list(name=sum))
View(IO_3)
library(dplyr)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_at(vars(`Agriculture, Hunting, Forestry and Fishing`),list(name=sum))
IO_4<- IO_3 %>% group_by(industry) %>% summarise_at(vars(Agriculture, Hunting, Forestry and Fishing),list(name=sum))
IO_4<- IO_3 %>% group_by(industry) %>% summarise_at(vars(`Agriculture, Hunting, Forestry and Fishing`),sum)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_at(vars("Agriculture, Hunting, Forestry and Fishing"),sum)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_at(vars("Agriculture, Hunting, Forestry and Fishing"),list(name=sum))
IO_4<- IO_3 %>% group_by(industry) %>% summarise_if(is.numeric, sum)
View(IO_4)
library(dplyr)
IO_4<- IO_3 %>% group_by(industry) %>% summarise_if(is.numeric, sum, na.rm = TRUE)
View(IO_4)
View(IO_3)
IO_5<- IO_3 %>%  summarise(across(where(is.numeric), ~ sum))
View(IO_5)
class(IO_3)
View(IO_3)
class(IO_3$`Agriculture, Hunting, Forestry and Fishing`)
mean(IO_3$`Agriculture, Hunting, Forestry and Fishing`)
IO_4<- IO_3 %>%  mutate_if(is.character,as.numeric)
View(IO_4)
IO_4<- IO_3 %>% select(-c(industry,var)) %>%  mutate_if(is.character,as.numeric) %>%mutate(IO_3$industry,IO_3$var)
View(IO_4)
IO_4<- IO_3 %>% select(-c(industry,var)) %>%
mutate_if(is.character,as.numeric) %>%
mutate(industry=IO_3$industry,var=IO_3$var)
View(IO_4)
IO_4<- IO_3 %>% select(-c(industry,var)) %>%
mutate_if(is.character,as.numeric) %>%
mutate(industry=IO_3$industry,var=IO_3$var) %>%
relocate(industry,var)
View(IO_4)
IO_5<- IO_4 %>% group_by(industry) %>% summarise_if(is.numeric, sum)
View(IO_5)
View(IO_5)
View(IO_5)
setwd("C:/Users/User/Documents/Fall 2020 UMass/753/Problem Sets/Problem Set 1")
IO_1<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO_2<- IO_1 %>% slice(-c(1,2,4,5)) %>% select(-1)
View(IO_2)
names<-IO_2 %>% slice(1) %>% select(-c(1,2,3))
View(names)
names<-IO_2 %>% slice(1) %>% select(-c(1,2,3))
IO_3<- IO_2%>% slice(-1)
View(IO_3)
colnames(IO_3)<-c("industry","var","industry_code", names)
View(IO_3)
IO_4<- IO_3 %>% select(-c(industry,var,industry_code)) %>%
mutate_if(is.character,as.numeric) %>%
mutate(industry=IO_3$industry,var=IO_3$var,industry_code=IO_3$industry_code) %>%
relocate(industry,var,industry_code)
View(IO_4)
IO_5<- IO_4 %>% group_by(industry) %>% summarise_if(is.numeric, sum)
View(IO_5)
IO_5<- IO_4 %>% group_by(industry_code) %>% summarise_if(is.numeric, sum)
View(IO_5)
IO_5<- IO_4 %>% group_by(industry_code,industry) %>% summarise_if(is.numeric, sum)
View(IO_5)
IO_5<- IO_4 %>% group_by(industry_code) %>% summarise_if(is.numeric, sum)
View(IO_5)
IO_5<- IO_4 %>% group_by(industry_code,industry) %>% summarise_if(is.numeric, sum) %>% arrange(industry_code)
View(IO_5)
View(IO_5)
sub('.','',IO_5$industry_code)
IO_6<-IO_5 %>% mutate(industry_code=sub('.','',IO_5$industry_code))
IO_6<-IO_5 %>% mutate(industry_code=sub('.','',industry_code))
View(IO_6)
IO_6<-IO_5 %>% mutate(industry_code=sub('.','',industry_code)) %>% arrange(industry_code)
View(IO_6)
IO_6<-IO_5 %>% mutate(industry_code=sub('.','',industry_code)) %>%
mutate(industry_code=as.numeric(industry_code)) %>%
arrange(industry_code)
View(IO_6)
IO_6<-IO_5 %>% mutate(industry_code=sub('.','',industry_code)) %>%
mutate(industry_code=as.numeric(industry_code)) %>%
arrange(industry_code) %>%
mutate(industry_code=as.character(industry_code))
View(IO_6)
View(IO_6)
A<-as.matrix(IO_6 %>% select(-c(1,2)))
View(A)
A<-as.matrix(IO_6 %>% select(-c(1:3)))
View(A)
A<-as.matrix(IO_6 %>% select(-c(1,2)))
View(A)
names
A<-as.matrix(IO_6 %>% select(-`Final consumption expenditure by households`)
IO_7<-IO-6 %>% select(-`Final consumption expenditure by households`)
IO_7<-IO-6 %>% select(-`Final consumption expenditure by households`)
IO_7<-IO_6 %>% select(-`Final consumption expenditure by households`)
View(IO_7)
IO_7<-IO_6 %>% select(-c(`Final consumption expenditure by households`:`Total output`)
IO_7<-IO_6 %>% select(-c(`Final consumption expenditure by households`:`Total output`) )
View(IO_7)
IO_7<-IO_6 %>% select_if(is.numeric) %>% select(-c(`Final consumption expenditure by households`:`Total output`) )
View(IO_7)
IO_7<-IO_6 %>% select_if(is.numeric) %>% select(-c(1,`Final consumption expenditure by households`:`Total output`) )
View(IO_7)
IO_7<-IO_6 %>% select_if(is.numeric) %>%
select(-c(industry_code,`Final consumption expenditure by households`:`Total output`) )
View(IO_7)
View(IO_6)
A_1<-as.matrix(IO_6[,-1])
View(A_1)
IO_6<-IO_5 %>% mutate(industry_code=sub('.','',industry_code)) %>%
mutate(industry_code=as.numeric(industry_code)) %>%
arrange(industry_code) %>%
mutate(industry_code=as.character(industry_code))
View(IO_6)
IO_7<-IO_6 %>% select_if(is.numeric) %>%
select(-c(industry_code,`Final consumption expenditure by households`:`Total output`) )
A_1<-as.matrix(IO_6[,-1])
View(A_1)
View(IO_6)
IO_7<-IO_6 %>% select_if(is.numeric) %>%
select(-c(industry_code,industry,`Final consumption expenditure by households`:`Total output`) )
IO_7<-IO_6 %>%
select(-c(industry_code,industry,`Final consumption expenditure by households`:`Total output`) )
A_1<-as.matrix(IO_7[,-1])
View(A_1)
View(IO_7)
View(A_1)
View(IO_6)
View(IO_7)
View(IO_6)
View(IO_5)
View(IO_4)
View(IO_5)
total_output<-as.vector(IO_5 %>% select(total_output))
total_output<-as.vector(IO_5 %>% select(`Total output`))
View(total_output)
total_output<-as.vector(IO_5$Total output)
total_output<-IO_5$`Total output`
View(A_1)
View(IO_7)
View(IO_6)
IO_7<-IO_6 %>%
select(-c(industry_code,industry,`Final consumption expenditure by households`:`Total output`) ) %>%
slice(-c(31:43))
A_1<-as.matrix(IO_7[,-1])
View(IO_7)
View(IO_6)
IO_7<-IO_6 %>%
select(-c(industry_code,industry,`Final consumption expenditure by households`:`Total output`) ) %>%
slice(-c(36:43))
IO_7<-IO_6 %>%
select(-c(industry_code,industry,`Final consumption expenditure by households`:`Total output`) ) %>%  slice(-c(36:43))
IO_7<-IO_6 %>%
select(-c(industry_code,industry,`Final consumption expenditure by households`:`Total output`) )
IO_8 <- IO_7 %>% slice(-c(36:43))
View(IO_8)
help slice
?slice
IO_8 <- IO_7 %>% slice(-c(36,37))
View(IO_8)
View(IO_6)
View(IO_7)
View(A_1)
A_1<-as.matrix(IO_7[-36:43,-1])
A_1<-as.matrix(IO_7[-c(36:43),-1])
View(A_1)
A_q<-A_1*(1/total_output)
View(A_q)
total_output %>% as.vectorIO_7[-c(36:43),44]
View(IO_7)
View(IO_6)
total_output %>% as.vector(IO_6[-c(36:43),44])
total_output <- as.vector(IO_6[-c(36:43),44])
View(total_output)
A_q<-A_1*(1/total_output)
View(A_q)
A_1<-as.matrix(IO_7[-c(36:43),-1])
A_q<-A_1*(1/total_output)
View(total_output)
inv_total_output<-1/total_output
View(inv_total_output)
A_q<-A_1%*%diag(inv_total_output)
A_q<-A_1*inv_total_output
A_q<-t(t(A_1) * inv_total_output)
View(A_q)
A_q<- A_1 * inv_total_output[col(A_1)]
View(A_q)
setwd("C:/Users/User/Documents/GitHub/Problem-Sets--753")
rm(list=ls())
setwd("C:/Users/User/Documents/GitHub/Problem-Sets--753")
IO_1<-import("IND_NIOT_row_sep12.xlsx",sheet="2009")
IO_2<- IO_1 %>% slice(-c(1,2,4,5)) %>% select(-1)
names<-IO_2 %>% slice(1) %>% select(-c(1,2,3))
IO_3<- IO_2%>% slice(-1)
colnames(IO_3)<-c("industry","var","industry_code", names)
IO_4<- IO_3 %>% select(-c(industry,var,industry_code)) %>%
mutate_if(is.character,as.numeric) %>%
mutate(industry=IO_3$industry,var=IO_3$var,industry_code=IO_3$industry_code) %>%
relocate(industry,var,industry_code)
#I will now sum the expenditure of each industry's domestic and import
IO_5<- IO_4 %>% group_by(industry_code,industry) %>% summarise_if(is.numeric, sum)
IO_6<-IO_5 %>% mutate(industry_code=sub('.','',industry_code)) %>%
mutate(industry_code=as.numeric(industry_code)) %>%
arrange(industry_code) %>%
mutate(industry_code=as.character(industry_code))
IO_7<-IO_6 %>%
select(-c(industry_code,industry,`Final consumption expenditure by households`:`Total output`) )
A_1<-as.matrix(IO_7[-c(36:43),-1])
total_output <- as.vector(IO_6[-c(36:43),44])
inv_total_output<-1/total_output
A_q<- A_1 * inv_total_output[col(A_1)]
View(A_q)
View(A_q)
str(A_q)
diag(35)
length(A_q)
LM_1=inv(diag(35)-A_q)
install.packages(matlib)
install.packages("matlib")
library(matlib)
LM_1<-inv(diag(35)-A_q)
View(IO_7)
View(A_q)
View(LM_1)
View(LM_1)
View(names)
